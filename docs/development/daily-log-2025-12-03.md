# 2025-12-03 作業メモ

## やったこと
- モデルセレクタをドロップダウン＋カスタム入力へ刷新し、ツールバーからチャット欄上部へ移動。選択即時適用とプリセット同期も実装。
- チャット画面左側にスクラッチパッド（InputState の code_editor モード）とメッセージログ用コンソールを追加し、`ScrollManager` 連動で追従スクロールを実現。
- サイドバーの会話リストでタイトルが長い場合でも削除ボタンが押せるようにレイアウトを調整。
- `overflow_y_scroll`/`overflow_scroll` 相当のヘルパーを `ChatView` 内で定義し、GPUI 0.2.2 で失われたメソッドを補完。`cargo check -p neko-assistant` と `cargo run -p neko-assistant` が再度成功することを確認。
- `cargo run -p neko-assistant -- test-mcp` を実行し、MCP テストが通ることを確認（filesystem サーバーの list_tools がタイムアウトすることは要観察）。

## 残タスク
- filesystem MCP サーバーが `list_tools` でタイムアウトする原因を切り分け、再試行ロジックまたはタイムアウト調整を検討する。
- 新レイアウト（モデルセレクタ＋スクラッチパッド＋コンソール）の UX 調整と軽量化（例: コンソールのフィルタリング、折り畳み、幅の可変化）。
- フロントエンド変更に合わせた追加テスト（`cargo test --workspace`、`cargo fmt --all`、`cargo clippy --all-targets -- -D warnings`）とドキュメント更新の反映確認。
